# é˜¶æ®µä¸€ï¼šç¯å¢ƒå‡†å¤‡æ£€æŸ¥æŠ¥å‘Š

## æ£€æŸ¥æ—¶é—´
2025-11-13

## æ£€æŸ¥é¡¹ç›®

### 1. æ‰©å±•é¡¹ç›®ç»“æ„æ£€æŸ¥ âœ…

#### 1.1 ç›®å½•ç»“æ„
```
sprite-sheet-tool/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ browser/
â”‚   â”‚   â””â”€â”€ index.ts              âœ… æ‰©å±•å…¥å£æ–‡ä»¶å­˜åœ¨
â”‚   â”œâ”€â”€ panels/
â”‚   â”‚   â”œâ”€â”€ App.vue               âœ… ä¸»åº”ç”¨ç»„ä»¶å­˜åœ¨
â”‚   â”‚   â”œâ”€â”€ panel.ts              âœ… é¢æ¿å…¥å£æ–‡ä»¶å­˜åœ¨
â”‚   â”‚   â”œâ”€â”€ pina.ts               âœ… Pinia çŠ¶æ€ç®¡ç†å­˜åœ¨
â”‚   â”‚   â”œâ”€â”€ provide-inject.ts     âœ… Provide/Inject å­˜åœ¨
â”‚   â”‚   â”œâ”€â”€ style.css             âœ… æ ·å¼æ–‡ä»¶å­˜åœ¨
â”‚   â”‚   â”œâ”€â”€ assets/               âœ… é™æ€èµ„æºç›®å½•å­˜åœ¨
â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚       â””â”€â”€ HelloWorld.vue    âœ… ç¤ºä¾‹ç»„ä»¶å­˜åœ¨
â”‚   â””â”€â”€ vite-env.d.ts             âœ… Vite ç¯å¢ƒç±»å‹å®šä¹‰å­˜åœ¨
â”œâ”€â”€ package.json                   âœ… é¡¹ç›®é…ç½®æ–‡ä»¶å­˜åœ¨
â”œâ”€â”€ vite.config.ts                 âœ… Vite é…ç½®æ–‡ä»¶å­˜åœ¨
â”œâ”€â”€ tsconfig.json                  âœ… TypeScript é…ç½®æ–‡ä»¶å­˜åœ¨
â”œâ”€â”€ tsconfig.app.json              âœ… åº”ç”¨ TypeScript é…ç½®å­˜åœ¨
â”œâ”€â”€ tsconfig.node.json             âœ… Node.js TypeScript é…ç½®å­˜åœ¨
â””â”€â”€ node_modules/                  âœ… ä¾èµ–åŒ…ç›®å½•å­˜åœ¨
```

#### 1.2 æ–‡ä»¶å®Œæ•´æ€§
- âœ… `src/browser/index.ts` (346 bytes)
- âœ… `src/panels/App.vue` (2008 bytes)
- âœ… `src/panels/panel.ts` (1225 bytes)
- âœ… `src/panels/pina.ts` (96 bytes)
- âœ… `src/panels/provide-inject.ts` (275 bytes)
- âœ… `src/panels/components/HelloWorld.vue` (935 bytes)

### 2. é…ç½®æ–‡ä»¶æ£€æŸ¥ âœ…

#### 2.1 package.json
- âœ… é¡¹ç›®åç§°ï¼š`sprite-sheet-tool`
- âœ… ç‰ˆæœ¬ï¼š`0.0.0`
- âœ… æ‰©å±•å…¥å£ï¼š`./dist/browser.cjs`
- âœ… é¢æ¿å…¥å£ï¼š`./dist/panel.cjs`
- âœ… ä¾èµ–åŒ…ï¼š
  - âœ… `vue`: `^3.4.37`
  - âœ… `element-plus`: `^2.8.6`
- âœ… å¼€å‘ä¾èµ–ï¼š
  - âœ… `@cocos-fe/vite-plugin-cocos-panel`: `^1.0.3`
  - âœ… `@cocos/creator-types`: `^3.8.6`
  - âœ… `@vitejs/plugin-vue`: `^5.2.2`
  - âœ… `vite`: `^5.4.1`
  - âœ… `typescript`: `^5.8.2`
  - âœ… `vue-tsc`: `^2.1.10`
- âœ… æ„å»ºè„šæœ¬ï¼š
  - âœ… `dev`: `npm run build -- --mode development`
  - âœ… `build`: `vue-tsc -b && vite build`
- âœ… æ‰©å±•é…ç½®ï¼š
  - âœ… `contributions.menu` é…ç½®æ­£ç¡®
  - âœ… `contributions.messages` é…ç½®æ­£ç¡®
  - âœ… `panels.default` é…ç½®æ­£ç¡®

#### 2.2 vite.config.ts
- âœ… ä½¿ç”¨ `@cocos-fe/vite-plugin-cocos-panel` æ’ä»¶
- âœ… é…ç½®åŒå…¥å£æ„å»ºï¼ˆbrowser.cjs å’Œ panel.cjsï¼‰
- âœ… ä½¿ç”¨ `@vitejs/plugin-vue` æ’ä»¶
- âœ… ä½¿ç”¨ `rollup-plugin-node-externals` æ’ä»¶
- âœ… ä½¿ç”¨ `unplugin-auto-import` è‡ªåŠ¨å¯¼å…¥
- âœ… ä½¿ç”¨ `unplugin-vue-components` è‡ªåŠ¨å¯¼å…¥ç»„ä»¶
- âœ… é…ç½® Element Plus è§£æå™¨
- âœ… é…ç½®å¼€å‘æ¨¡å¼ç›‘å¬
- âœ… é…ç½® Windows å¹³å° sourcemap

#### 2.3 tsconfig.json
- âœ… ä½¿ç”¨é¡¹ç›®å¼•ç”¨ï¼ˆreferencesï¼‰
- âœ… å¼•ç”¨ `tsconfig.app.json`
- âœ… å¼•ç”¨ `tsconfig.node.json`

#### 2.4 tsconfig.app.json
- âœ… ç›®æ ‡ï¼šES2020
- âœ… æ¨¡å—ï¼šESNext
- âœ… åº“ï¼šES2020, DOM, DOM.Iterable
- âœ… åŒ…å« Cocos Creator ç±»å‹å®šä¹‰
- âœ… ä¸¥æ ¼æ¨¡å¼ï¼šå¯ç”¨
- âœ… åŒ…å«æ–‡ä»¶ï¼š`src/**/*.ts`, `src/**/*.tsx`, `src/**/*.vue`

#### 2.5 tsconfig.node.json
- âœ… ç›®æ ‡ï¼šES2022
- âœ… æ¨¡å—ï¼šESNext
- âœ… ä¸¥æ ¼æ¨¡å¼ï¼šå¯ç”¨
- âœ… åŒ…å«æ–‡ä»¶ï¼š`vite.config.ts`

### 3. ä¾èµ–æ£€æŸ¥ âœ…

#### 3.1 ä¾èµ–å®‰è£…
- âœ… `node_modules/` ç›®å½•å­˜åœ¨
- âœ… æ‰€æœ‰ä¾èµ–åŒ…å·²å®‰è£…
- âœ… æ— ç¼ºå¤±ä¾èµ–

#### 3.2 å…³é”®ä¾èµ–
- âœ… Vue 3.4.37
- âœ… Element Plus 2.8.6
- âœ… Vite 5.4.1
- âœ… TypeScript 5.8.2
- âœ… @cocos-fe/vite-plugin-cocos-panel 1.0.3
- âœ… @cocos/creator-types 3.8.6

### 4. æ„å»ºéªŒè¯ âœ…

#### 4.1 æ„å»ºå‘½ä»¤
```bash
npm run build
```

#### 4.2 æ„å»ºç»“æœ
- âœ… æ„å»ºæˆåŠŸ
- âœ… æ— é”™è¯¯
- âœ… æ— è­¦å‘Š

#### 4.3 æ„å»ºè¾“å‡º
```
dist/
â”œâ”€â”€ browser.cjs             475 bytes    âœ… æ‰©å±•å…¥å£æ–‡ä»¶
â”œâ”€â”€ panel.cjs            795,643 bytes    âœ… é¢æ¿å…¥å£æ–‡ä»¶
â””â”€â”€ package-DgG2xx0r.cjs     69 bytes    âœ… Package å¼•ç”¨æ–‡ä»¶
```

#### 4.4 æ„å»ºè¾“å‡ºéªŒè¯
- âœ… `dist/browser.cjs` å­˜åœ¨ï¼Œç¬¦åˆ `package.json` ä¸­çš„ `main` é…ç½®
- âœ… `dist/panel.cjs` å­˜åœ¨ï¼Œç¬¦åˆ `package.json` ä¸­çš„ `panels.default.main` é…ç½®
- âœ… æ–‡ä»¶å¤§å°åˆç†
- âœ… æ„å»ºæ—¶é—´ï¼š3.39s

### 5. ä»£ç è´¨é‡æ£€æŸ¥ âœ…

#### 5.1 TypeScript ç±»å‹æ£€æŸ¥
- âœ… `vue-tsc -b` é€šè¿‡
- âœ… æ— ç±»å‹é”™è¯¯
- âœ… æ— ç±»å‹è­¦å‘Š

#### 5.2 ä»£ç ç»“æ„
- âœ… æ‰©å±•å…¥å£æ–‡ä»¶ç»“æ„æ­£ç¡®
- âœ… é¢æ¿å…¥å£æ–‡ä»¶ç»“æ„æ­£ç¡®
- âœ… Vue ç»„ä»¶ç»“æ„æ­£ç¡®
- âœ… ç±»å‹å®šä¹‰æ­£ç¡®

### 6. ç¯å¢ƒå…¼å®¹æ€§æ£€æŸ¥ âœ…

#### 6.1 Node.js ç‰ˆæœ¬
- âœ… Node.js ç‰ˆæœ¬ï¼š22.15.0
- âœ… ç¬¦åˆè¦æ±‚ï¼šNode.js 18+

#### 6.2 æ“ä½œç³»ç»Ÿ
- âœ… Windows 10+
- âœ… è·¯å¾„å¤„ç†æ­£ç¡®

#### 6.3 Cocos Creator ç‰ˆæœ¬
- âœ… ç›®æ ‡ç‰ˆæœ¬ï¼šCocos Creator 3.8.7
- âœ… ç±»å‹å®šä¹‰ï¼š@cocos/creator-types 3.8.6

## æ£€æŸ¥ç»“æœ

### âœ… é€šè¿‡é¡¹ç›®

1. âœ… æ‰©å±•é¡¹ç›®ç»“æ„å®Œæ•´
2. âœ… é…ç½®æ–‡ä»¶æ­£ç¡®
3. âœ… ä¾èµ–å®‰è£…å®Œæ•´
4. âœ… æ„å»ºéªŒè¯é€šè¿‡
5. âœ… ä»£ç è´¨é‡è‰¯å¥½
6. âœ… ç¯å¢ƒå…¼å®¹æ€§è‰¯å¥½

### âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ„å»ºè¾“å‡ºå¤§å°**
   - `panel.cjs` æ–‡ä»¶è¾ƒå¤§ï¼ˆ795KBï¼‰ï¼Œè¿™æ˜¯å› ä¸ºåŒ…å«äº† Element Plus å’Œ Vue çš„æ‰€æœ‰ä¾èµ–
   - è¿™æ˜¯æ­£å¸¸çš„ï¼Œå› ä¸ºæ‰©å±•é¢æ¿éœ€è¦å®Œæ•´çš„ UI åº“

2. **å¼€å‘æ¨¡å¼**
   - å¼€å‘æ¨¡å¼ä½¿ç”¨ `npm run build -- --mode development`
   - è¿™ä¼šå¯ç”¨æ–‡ä»¶ç›‘å¬å’Œ sourcemap
   - Windows å¹³å°ä½¿ç”¨ inline sourcemap

3. **ç±»å‹å®šä¹‰**
   - ä½¿ç”¨äº† `@cocos/creator-types` æä¾› Cocos Creator ç±»å‹å®šä¹‰
   - ç±»å‹å®šä¹‰åŒ…æ‹¬ engine å’Œ editor ç±»å‹

### ğŸ“ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **é˜¶æ®µäºŒï¼šæ ¸å¿ƒé€»è¾‘æŠ½ç¦»**
   - åˆ›å»º `src/core/` ç›®å½•ç»“æ„
   - æ‹·è´ä¸»é¡¹ç›®æ ¸å¿ƒé€»è¾‘
   - é€‚é…æ‰©å±•é¡¹ç›®ç¯å¢ƒ

2. **é˜¶æ®µä¸‰ï¼šCocos Creator API é›†æˆ**
   - åˆ›å»º Cocos Creator API å°è£…
   - å®ç°æ–‡ä»¶æ“ä½œå°è£…
   - æµ‹è¯• API é›†æˆ

3. **é˜¶æ®µå››ï¼šæ‰©å±•é¢æ¿ UI å¼€å‘**
   - åˆ›å»ºæ‰“åŒ…é¢æ¿ç»„ä»¶
   - åˆ›å»ºæ‹†åŒ…é¢æ¿ç»„ä»¶
   - åˆ›å»ºé€†å‘æ‹†åˆ†é¢æ¿ç»„ä»¶

## æ£€æŸ¥æ€»ç»“

âœ… **ç¯å¢ƒå‡†å¤‡å®Œæˆ**

æ‰©å±•é¡¹ç›®ç¯å¢ƒå·²å‡†å¤‡å°±ç»ªï¼Œæ‰€æœ‰æ£€æŸ¥é¡¹ç›®å‡é€šè¿‡ã€‚é¡¹ç›®ç»“æ„å®Œæ•´ï¼Œé…ç½®æ–‡ä»¶æ­£ç¡®ï¼Œä¾èµ–å®‰è£…å®Œæ•´ï¼Œæ„å»ºéªŒè¯é€šè¿‡ã€‚å¯ä»¥å¼€å§‹ä¸‹ä¸€é˜¶æ®µçš„å·¥ä½œã€‚

## æ£€æŸ¥äººå‘˜
- æ£€æŸ¥æ—¶é—´ï¼š2025-11-13
- æ£€æŸ¥ç»“æœï¼šé€šè¿‡
- ä¸‹ä¸€æ­¥ï¼šå¼€å§‹é˜¶æ®µäºŒï¼ˆæ ¸å¿ƒé€»è¾‘æŠ½ç¦»ï¼‰

